

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CSL介绍 &mdash; CSL-chinese  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CSL 1.0.1 Specification" href="CSL 1.0.1规范.html" />
    <link rel="prev" title="XML基础" href="XML基础.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> CSL-chinese
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="XML基础.html">XML基础</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CSL介绍</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">前言</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">CSL 是什么</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">引用格式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#in-text-styles">In-text Styles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#author-date-author">“author-date” 和 “author” 格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#numeric">“numeric”格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">“numeric” 复合格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">标签格式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#note-styles">Note Styles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">CSL 生态</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">独立格式和从属格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#locale">Locale 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="#item-metadata">Item Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">引用细节</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">CSL 处理器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id10">理解 CSL 格式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">从属格式解析</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">独立格式解析</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">结构</a></li>
<li class="toctree-l4"><a class="reference internal" href="#style">根元素/style元素</a></li>
<li class="toctree-l4"><a class="reference internal" href="#info">info元素</a></li>
<li class="toctree-l4"><a class="reference internal" href="#citationmacro">citation元素和macro元素</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bibliography">bibliography元素</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">locale 元素</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id15">更进一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CSL 1.0.1规范.html">CSL 1.0.1 Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="Locale_File.html">Locale File</a></li>
<li class="toctree-l1"><a class="reference internal" href="contents.html">cesjo</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CSL-chinese</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>CSL介绍</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/CSL介绍.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>[TOC]</p>
<div class="section" id="csl">
<h1>CSL介绍<a class="headerlink" href="#csl" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>前言<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">CSL</span></code>是一种基于<code class="docutils literal notranslate"><span class="pre">XML</span></code>的开放(开源)语言，用来描述引用和参考文献的格式。对<code class="docutils literal notranslate"><span class="pre">CSL</span></code>更加技术和详细的描述见<code class="docutils literal notranslate"><span class="pre">CSL</span> <span class="pre">1.0.1</span> <span class="pre">规范</span></code>。</p>
</div>
<div class="section" id="id2">
<h2>CSL 是什么<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>如果你写过论文的话，你可能在其中引用了别人的论文。参考文献在学术交流中很重要，因为它可以提供引用的来源，并且可以把已经发表的研究联系到一起。但是，手动设置引用格式和参考文献目录非常耗时，而且不同的期刊有自己的引用格式。</p>
<p>参考文献管理软件可以解决上面的问题。像<code class="docutils literal notranslate"><span class="pre">Zotero、Mendeley、Papers</span></code>等软件不仅能帮助你管理参考文献，而且可以自动地生成引用的参考文献目录。为了设置特定的引用格式，这些软件需要能识别的对引用格式的描述，这种描述就是<code class="docutils literal notranslate"><span class="pre">Citation</span> <span class="pre">Style</span> <span class="pre">Language(CSL)</span></code>。</p>
</div>
<div class="section" id="id3">
<h2>引用格式<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>引用格式有很多很多种，我们最常用的就是国标（信息与文献 参考文献著录规则），最新的国标代号是<code class="docutils literal notranslate"><span class="pre">(GB/T</span> <span class="pre">7714-2015)</span></code>。大多数的引用格式都属于几个基本类别，如下：</p>
<div class="section" id="in-text-styles">
<h3>In-text Styles<a class="headerlink" href="#in-text-styles" title="Permalink to this headline">¶</a></h3>
<p>引用格式可以分为两个主要的类型。第一种就是<code class="docutils literal notranslate"><span class="pre">in-text</span> <span class="pre">styles</span></code>，正文中的引用直接指向参考文献目录中的一个或者多个条目。<code class="docutils literal notranslate"><span class="pre">in-text</span> <span class="pre">styles</span></code>还可以细分为<code class="docutils literal notranslate"><span class="pre">author-date,author,numeric</span></code>和<code class="docutils literal notranslate"><span class="pre">label</span></code>格式。</p>
<p>在<code class="docutils literal notranslate"><span class="pre">CSL</span></code>中，每个单独的<code class="docutils literal notranslate"><span class="pre">pointer</span></code>称为一个引用。例如，引文<code class="docutils literal notranslate"><span class="pre">“(Doe</span> <span class="pre">et</span> <span class="pre">al.</span> <span class="pre">2002,</span> <span class="pre">Smith</span> <span class="pre">1997)”</span></code>包含两个引用：一个是<code class="docutils literal notranslate"><span class="pre">Doe</span> <span class="pre">et</span> <span class="pre">al.</span></code>在2002年发表的文献，另外一个是<code class="docutils literal notranslate"><span class="pre">Smith</span></code>1997年发表的文献。</p>
<div class="section" id="author-date-author">
<h4>“author-date” 和 “author” 格式<a class="headerlink" href="#author-date-author" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">author-date</span></code>引用格式会显示作者的名字和发表的日期，比如：<code class="docutils literal notranslate"><span class="pre">(Van</span> <span class="pre">der</span> <span class="pre">Klei</span> <span class="pre">et</span> <span class="pre">al.</span> <span class="pre">1991;</span> <span class="pre">Zwart</span> <span class="pre">et</span> <span class="pre">al.</span> <span class="pre">1983)</span></code>。<code class="docutils literal notranslate"><span class="pre">author</span></code>只显示作者名字，例如：<code class="docutils literal notranslate"><span class="pre">(Gidijala</span> <span class="pre">et</span> <span class="pre">al.)</span></code>。参考文献条目一般使用字母表顺序对作者进行排序。</p>
<p>应该注意的是，许多引用格式使用了令人疑惑的<code class="docutils literal notranslate"><span class="pre">Harvard</span></code>术语来指代<code class="docutils literal notranslate"><span class="pre">author-date</span></code>格式，但是大多数这些格式与哈佛大学并没有关系。而且也并不存在一个官方的<code class="docutils literal notranslate"><span class="pre">Harvard</span></code>格式。</p>
<p><strong>参考文献条目实例</strong></p>
<blockquote>
<div><p>Gidijala L, Bovenberg RA, Klaassen P, van der Klei IJ, Veenhuis M, et al. (2008) Production of functionally active <em>Penicillium chrysogenum</em> isopenicillin N synthase in the yeast <em>Hansenula polymorpha</em>. BMC Biotechnol 8: 29.</p>
<p>van der Klei IJ, Harder W, Veenhuis M (1991) Methanol metabolism in a peroxisome-deficient mutant of <em>Hansenula polymorpha</em>: a physiological study. Arch Microbiol 156: 15-23.</p>
<p>Zwart KB, Veenhuis M, Harder W (1983) Significance of yeast peroxisomes in the metabolism of choline and ethanolamine. Antonie van Leeuwenhoek 49: 369-385.</p>
</div></blockquote>
</div>
<div class="section" id="numeric">
<h4>“numeric”格式<a class="headerlink" href="#numeric" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">numeric</span></code>格式由数字组成，比如<code class="docutils literal notranslate"><span class="pre">[1,2]</span></code>和<code class="docutils literal notranslate"><span class="pre">[3]</span></code>。参考文献条目一般使用作者首字母排序或者使用第一次在正文中的引用顺序排序。国标就是一种典型的<code class="docutils literal notranslate"><span class="pre">numeric</span></code>格式。</p>
<p><strong>参考文献条目实例</strong></p>
<blockquote>
<div><ol class="simple">
<li><p>Gidijala L, Bovenberg RA, Klaassen P, van der Klei IJ, Veenhuis M, et al. (2008) Production of functionally active <em>Penicillium chrysogenum</em> isopenicillin N synthase in the yeast <em>Hansenula polymorpha</em>. BMC Biotechnol 8: 29.</p></li>
<li><p>Zwart KB, Veenhuis M, Harder W (1983) Significance of yeast peroxisomes in the metabolism of choline and ethanolamine. Antonie van Leeuwenhoek 49: 369-385.</p></li>
<li><p>van der Klei IJ, Harder W, Veenhuis M (1991) Methanol metabolism in a peroxisome-deficient mutant of <em>Hansenula polymorpha</em>: a physiological study. Arch Microbiol 156: 15-23.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="id4">
<h4>“numeric” 复合格式<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>复合格式是<code class="docutils literal notranslate"><span class="pre">numeric</span></code>格式的变体。这种风格在化学领域很流行。<code class="docutils literal notranslate"><span class="pre">CSL</span></code>中暂时不支持这种格式，这里也不多作介绍。</p>
<p><strong>参考文献条目实例</strong></p>
<blockquote>
<div><ol class="simple">
<li><p>Gidijala L, et al. (2008) BMC Biotechnol 8: 29.</p></li>
<li><p>a) Zwart KB, et al. (1983) Antonie van Leeuwenhoek 49: 369-385, b) van der Klei IJ, et al. (1991) Arch Microbiol 156: 15-23.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="id5">
<h4>标签格式<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>这种引用格式由<code class="docutils literal notranslate"><span class="pre">keys</span></code>构成，例<code class="docutils literal notranslate"><span class="pre">GBKv2008]</span></code>和<code class="docutils literal notranslate"><span class="pre">[ZwVH1983;</span> <span class="pre">vaHV1991]</span></code>。<code class="docutils literal notranslate"><span class="pre">CSL</span></code>对这种格式支持有限，这里也不多作介绍。</p>
<p><strong>参考文献条目实例</strong></p>
<blockquote>
<div><p>[GBKv2008] Gidijala L, Bovenberg RA, Klaassen P, van der Klei IJ, Veenhuis M, et al. (2008) Production of functionally active <em>Penicillium chrysogenum</em> isopenicillin N synthase in the yeast <em>Hansenula polymorpha</em>. BMC Biotechnol 8: 29.</p>
<p>[vaHV1991] van der Klei IJ, Harder W, Veenhuis M (1991) Methanol metabolism in a peroxisome-deficient mutant of <em>Hansenula polymorpha</em>: a physiological study. Arch Microbiol 156: 15-23.</p>
<p>[ZwVH1983] Zwart KB, Veenhuis M, Harder W (1983) Significance of yeast peroxisomes in the metabolism of choline and ethanolamine. Antonie van Leeuwenhoek 49: 369-385.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="note-styles">
<h3>Note Styles<a class="headerlink" href="#note-styles" title="Permalink to this headline">¶</a></h3>
<p>引用格式的第二类为<code class="docutils literal notranslate"><span class="pre">Note</span></code>格式。引用中的<code class="docutils literal notranslate"><span class="pre">marker</span></code>可以是数字或者符号，例如<code class="docutils literal notranslate"><span class="pre">[*]</span></code>或者<code class="docutils literal notranslate"><span class="pre">[†]</span></code>。每个<code class="docutils literal notranslate"><span class="pre">marker</span></code>指向脚注或者尾注。<code class="docutils literal notranslate"><span class="pre">CSL</span></code>不能设置使用哪些数字或者符号用于<code class="docutils literal notranslate"><span class="pre">marker</span></code>，这些应该用字处理软件(比如 <code class="docutils literal notranslate"><span class="pre">word</span></code>)设置。与上面的<code class="docutils literal notranslate"><span class="pre">in-text</span></code>格式不同，尾注或者脚注通常显示的信息更多。</p>
<p><strong>参考文献条目实例</strong></p>
<blockquote>
<div><p>[*]  Voyage to St. Kilda’ (3rd edit. 1753), p. 37.</p>
<p>[†]  Sir J. E. Tennent, ‘Ceylon,’ vol. ii. 1859, p. 107.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="id6">
<h2>CSL 生态<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>要明白<code class="docutils literal notranslate"><span class="pre">CSL</span></code>是怎么运作的，首先要了解<code class="docutils literal notranslate"><span class="pre">CSL</span></code>的生态。<code class="docutils literal notranslate"><span class="pre">Style</span></code>指的是 CSL 样式，<code class="docutils literal notranslate"><span class="pre">Item</span> <span class="pre">Metadata</span></code>指的是每篇参考文献的作者，题目等信息，<code class="docutils literal notranslate"><span class="pre">Locale</span> <span class="pre">Files</span></code>是为实现与语言无关（指英语，汉语等）的格式的本地化文件，<code class="docutils literal notranslate"><span class="pre">Citation</span> <span class="pre">Details</span></code>指的是影响引文信息或参考文献列表表现的细节，比如顺序，位置等。</p>
<p><img alt="https://docs.citationstyles.org/en/stable/_images/csl-infrastructure.png" src="https://docs.citationstyles.org/en/stable/_images/csl-infrastructure.png" /></p>
<div class="section" id="id7">
<h3>独立格式和从属格式<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">CSL</span></code>的一切都是围绕<code class="docutils literal notranslate"><span class="pre">style</span></code>的，但是并不是所有的<code class="docutils literal notranslate"><span class="pre">style</span></code>都是相似的。主要包括两种格式：独立格式<code class="docutils literal notranslate"><span class="pre">(independent</span> <span class="pre">styles)</span></code>和从属格式<code class="docutils literal notranslate"><span class="pre">(dependent</span> <span class="pre">styles)</span></code>。</p>
<p>独立格式有2种功能，首先，需要先定义一种引用格式。具体格式是什么样的，是 <code class="docutils literal notranslate"><span class="pre">author-date</span></code>格式还是<code class="docutils literal notranslate"><span class="pre">note</span></code>格式？ 引用的顺序是按字母排序还是按日期排序？参考文献条目中是不是包含<code class="docutils literal notranslate"><span class="pre">DOI</span></code>？使用什么标点符号以及使用大写还是小写？文献发表年限在文献题目前还是后？等等，这些都是引用格式定义的。第二个功能是：<code class="docutils literal notranslate"><span class="pre">CSL</span></code>必须是能自我解释的，可以称之为格式的<strong>元数据</strong>。元数据中可以包括该<code class="docutils literal notranslate"><span class="pre">CSL</span></code>对应的期刊标题，以及该期刊的联接，该<code class="docutils literal notranslate"><span class="pre">CSL</span></code>的创建者等。</p>
<p>从属格式则仅包括格式的元数据，没有对引用格式的定义。从属格式必须指定它的参考格式(父格式)，从属格式的引用将使用它的父格式的引用格式。</p>
<p>当多个格式使用相同的引用格式时，从属格式非常有用。以一个出版社旗下的不同期刊为例，如果每个期刊都使用独立格式，则每个<code class="docutils literal notranslate"><span class="pre">CSL</span></code>都要完整的对引用格式的描述，即使他们的引用格式都是相同的。这样就导致<code class="docutils literal notranslate"><span class="pre">CSL</span></code>太庞大，冗余太多。这种情况下，从属格式就比较适合。例如，<code class="docutils literal notranslate"><span class="pre">&quot;Nature&quot;</span></code>，<code class="docutils literal notranslate"><span class="pre">&quot;Nature</span> <span class="pre">Biotechnology&quot;</span></code>和<code class="docutils literal notranslate"><span class="pre">&quot;Nature</span> <span class="pre">Chemistry&quot;</span></code>都使用同样的引用格式。因此，只需要创建一个<code class="docutils literal notranslate"><span class="pre">&quot;Nature&quot;</span></code> 的独立格式，将<code class="docutils literal notranslate"><span class="pre">&quot;Nature</span> <span class="pre">Biotechnology&quot;</span></code>和<code class="docutils literal notranslate"><span class="pre">&quot;Nature</span> <span class="pre">Chemistry&quot;</span></code>格式都定义为<code class="docutils literal notranslate"><span class="pre">&quot;Nature&quot;</span></code>格式的从属格式。这样，如果<code class="docutils literal notranslate"><span class="pre">&quot;Nature&quot;</span></code>的出版社想改变引用格式，只需要改变<code class="docutils literal notranslate"><span class="pre">&quot;Nature&quot;</span></code>期刊格式的<code class="docutils literal notranslate"><span class="pre">CSL</span></code>就可以，不需要改变它的从属格式对应的<code class="docutils literal notranslate"><span class="pre">CSL</span></code>。</p>
</div>
<div class="section" id="locale">
<h3>Locale 文件<a class="headerlink" href="#locale" title="Permalink to this headline">¶</a></h3>
<p>事实上，大多数独立格式并不是完全独立的。</p>
<p>以下面的条目为例：</p>
<blockquote>
<div><p>Hartman, P., Bezos, J. P., Kaphan, S., &amp; Spiegel, J. (1999, September 28). Method and system for placing a purchase order via a communications network. Retrieved from <a class="reference external" href="https://www.google.com/patents/US5960411">https://www.google.com/patents/US5960411</a></p>
</div></blockquote>
<p>你可以使用一种独立的<code class="docutils literal notranslate"><span class="pre">CSL</span></code>格式来描述这个条目，在格式种编码就可以实现。例如，在最后的链接前加上<code class="docutils literal notranslate"><span class="pre">&quot;Retrieved</span> <span class="pre">from&quot;</span></code>，或者使用<code class="docutils literal notranslate"><span class="pre">&quot;YYYY,</span> <span class="pre">Month</span> <span class="pre">DD&quot;</span></code>作为日期的格式。但是这样的一种<code class="docutils literal notranslate"><span class="pre">CSL</span></code>，只能在美式英语中使用，如果使用德语写作，就必须修改样式中对应的翻译和日期格式。</p>
<p>幸运的是，独立格式可以依据<code class="docutils literal notranslate"><span class="pre">CSL</span> <span class="pre">locale</span> <span class="pre">files</span></code>(以下也翻译为 本地化文件 )来实现通用项的翻译，日期格式和语法的转换。例如：我们可以重写<code class="docutils literal notranslate"><span class="pre">CSL</span></code>格式使用<code class="docutils literal notranslate"><span class="pre">&quot;retrieved&quot;</span></code>和<code class="docutils literal notranslate"><span class="pre">&quot;from&quot;</span></code>项，并使用本地化的日期格式。如果我们将<code class="docutils literal notranslate"><span class="pre">CSL</span></code>样式(同格式)的使用环境设置为美式英语，该样式将从 <code class="docutils literal notranslate"><span class="pre">US</span> <span class="pre">English</span> <span class="pre">locale</span> <span class="pre">file</span></code>检索和翻译对应的项，并生成上述引用。如果将英语换为德语，就会使用德语对应的<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">file</span></code>，生成的引用如下：</p>
<blockquote>
<div><p>Hartman, P., Bezos, J. P., Kaphan, S., &amp; Spiegel, J. (28. September 1999). Method and system for placing a purchase order via a communications network. Abgerufen von <a class="reference external" href="https://www.google.com/patents/US5960411">https://www.google.com/patents/US5960411</a></p>
</div></blockquote>
<p>因此，使用  <code class="docutils literal notranslate"><span class="pre">CSL</span> <span class="pre">locale</span> <span class="pre">files</span></code> ，可以编写与语言无关的<code class="docutils literal notranslate"><span class="pre">CSL</span></code>样式。如上面展示的，这样的格式可以轻易的在不同的语言中转换。但是语言是很复杂的，<code class="docutils literal notranslate"><span class="pre">CSL</span> <span class="pre">automatic</span> <span class="pre">localization</span></code>并不能支持所有的语言特色。但是，语言无关的样式仍然是有意义的，如果你要自己修改<code class="docutils literal notranslate"><span class="pre">CSL</span></code>样式来适应自己选择的语言环境，参考这些语言无关的样式将更容易实现。</p>
<p><code class="docutils literal notranslate"><span class="pre">Locale</span> <span class="pre">file</span></code> 还有一个好处，那就是，我们只需要为每种语言定义一次通用的翻译，日期格式和语法。这样可以保证样式紧凑，并使<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">file</span></code>更容易维护。由于给定语言的引用格式并不是一直和<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">file</span></code>中定义的转换格式一致，因此，我们也可以自己选择性的重写任何在<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">file</span></code>中定义的项目。下面独立格式解析中的<code class="docutils literal notranslate"><span class="pre">locale</span></code>元素就是为实现这一功能设置的。</p>
</div>
<div class="section" id="item-metadata">
<h3>Item Metadata<a class="headerlink" href="#item-metadata" title="Permalink to this headline">¶</a></h3>
<p>接下来就是引用中需要的参考文献条目的细节：条目元数据。</p>
<p>例如：一篇期刊文章可能需要作者的名字，发表的年份，文章题目，期刊名称，卷和期，出现的页码范围以及<code class="docutils literal notranslate"><span class="pre">DOI</span></code>（数字文献唯一标识），所有这些信息都有助于读者识别和查找这篇文章。</p>
<p>参考文献管理软件可以轻松的创建文献的这些细节信息。但是，很多参考文献管理软件都有自己的格式来存储这些元素据，大多数都支持通用的<code class="docutils literal notranslate"><span class="pre">bibliographic</span> <span class="pre">exchange</span> <span class="pre">formats</span></code>，比如<code class="docutils literal notranslate"><span class="pre">BixTex</span></code>和<code class="docutils literal notranslate"><span class="pre">RIS</span></code>。<code class="docutils literal notranslate"><span class="pre">citeproc-js</span></code>CSL 处理器引入了一种基于<code class="docutils literal notranslate"><span class="pre">JSON</span></code>的格式，用于以<code class="docutils literal notranslate"><span class="pre">citeproc-js</span></code>可以理解的方式来存储元数据。其他的一些 <code class="docutils literal notranslate"><span class="pre">CSL</span></code> 处理器后来采用了这种<code class="docutils literal notranslate"><span class="pre">“CSL</span> <span class="pre">JSON”</span></code>格式（也称为<code class="docutils literal notranslate"><span class="pre">“citeproc</span> <span class="pre">JSON”</span></code>）。</p>
<p>译者注：这里讲的似乎有些繁琐。总的来说，是我们需要每篇文章的作者，题目，发表期刊等信息来生成对应的条目。文献管理软件可以很方便的提供这些信息。至于其内部存储的方式，使用的时候并不需要关心，类似<code class="docutils literal notranslate"><span class="pre">Zotero</span></code>的文献管理软件会自动使用这些信息和<code class="docutils literal notranslate"><span class="pre">CSL</span></code>生成引用信息。</p>
</div>
<div class="section" id="id8">
<h3>引用细节<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>对于给定的引用格式，引文和条目的展示不仅取决于被引用项的元数据，还取决于这些项被引用的上下文。我们将这类特定于上下文的信息称为引用细节。</p>
<p>例如：引用时对条目的排序会影响他们在参考文献中的位置（在下面独立格式的<code class="docutils literal notranslate"><span class="pre">citation</span></code>和<code class="docutils literal notranslate"><span class="pre">bibliography</span></code>章节中提到）。</p>
</div>
<div class="section" id="id9">
<h3>CSL 处理器<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>有了 CSL 样式，<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">file</span></code>，元数据和引用细节，我们现在需要一个软件来解析这些信息，并以正确的格式生成引用和参考文献条目。用来完成这些功能的软件就是 <code class="docutils literal notranslate"><span class="pre">CSL</span></code>处理器。</p>
<p>大多数的参考文献管理软件使用的是免费开源的<code class="docutils literal notranslate"><span class="pre">CSL</span></code>处理器，比如：<code class="docutils literal notranslate"><span class="pre">citeproc-js</span></code>。</p>
</div>
</div>
<div class="section" id="id10">
<h2>理解 CSL 格式<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>到现在为止，我们已经知道什么是<code class="docutils literal notranslate"><span class="pre">CSL</span></code>、怎么使用它、以及它怎么运作的。接下来我们将深入到<code class="docutils literal notranslate"><span class="pre">CSL</span></code>文件内部，分析它的<code class="docutils literal notranslate"><span class="pre">XML</span></code>代码。<code class="docutils literal notranslate"><span class="pre">XML基础.md</span></code> 文件中简单介绍了<code class="docutils literal notranslate"><span class="pre">XML</span></code>，看完后可以读懂并编辑简单的<code class="docutils literal notranslate"><span class="pre">XML</span></code>文件。如果想更多的了解<code class="docutils literal notranslate"><span class="pre">XML</span></code>，可以在网上查找<code class="docutils literal notranslate"><span class="pre">XML</span></code>教程。</p>
<div class="section" id="id11">
<h3>从属格式解析<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>下面是一个<code class="docutils literal notranslate"><span class="pre">CSL</span></code>从属格式文件：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;style</span> <span class="na">xmlns=</span><span class="s">&quot;http://purl.org/net/xbiblio/csl&quot;</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span> <span class="na">default-locale=</span><span class="s">&quot;en-US&quot;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- Generated with https://github.com/citation-style-language/utilities/tree/master/generate_dependent_styles/data/asm --&gt;</span>
  <span class="nt">&lt;info&gt;</span>
    <span class="nt">&lt;title&gt;</span>Applied and Environmental Microbiology<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;id&gt;</span>http://www.zotero.org/styles/applied-and-environmental-microbiology<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/applied-and-environmental-microbiology&quot;</span> <span class="na">rel=</span><span class="s">&quot;self&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/american-society-for-microbiology&quot;</span> <span class="na">rel=</span><span class="s">&quot;independent-parent&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://aem.asm.org/&quot;</span> <span class="na">rel=</span><span class="s">&quot;documentation&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;category</span> <span class="na">citation-format=</span><span class="s">&quot;numeric&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;category</span> <span class="na">field=</span><span class="s">&quot;biology&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;issn&gt;</span>0099-2240<span class="nt">&lt;/issn&gt;</span>
    <span class="nt">&lt;eissn&gt;</span>1098-5336<span class="nt">&lt;/eissn&gt;</span>
    <span class="nt">&lt;updated&gt;</span>2014-04-30T03:45:36+00:00<span class="nt">&lt;/updated&gt;</span>
    <span class="nt">&lt;rights</span> <span class="na">license=</span><span class="s">&quot;http://creativecommons.org/licenses/by-sa/3.0/&quot;</span><span class="nt">&gt;</span>This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License<span class="nt">&lt;/rights&gt;</span>
  <span class="nt">&lt;/info&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>
</div>
<p>如<code class="docutils literal notranslate"><span class="pre">XML基础.md</span></code>文件中的描述：一行给出了<code class="docutils literal notranslate"><span class="pre">xml</span></code>的声明。根元素为<code class="docutils literal notranslate"><span class="pre">style</span></code>，其中包含了一个子元素<code class="docutils literal notranslate"><span class="pre">info</span></code>。<code class="docutils literal notranslate"><span class="pre">info</span></code>元素中又包含了很多元素，其中很多元素都有内容和属性。<code class="docutils literal notranslate"><span class="pre">xmlns、version</span></code> 和<code class="docutils literal notranslate"><span class="pre">defaults-locale</span></code>都是元素<code class="docutils literal notranslate"><span class="pre">style</span></code>的属性，分别指定了??、版本和使用的语言，这里为美国英语。</p>
<p>大多数从属格式都是电子表格自动生成的，下面的注释也给出了指向电子表格的联接。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span> <span class="c">&lt;!-- Generated with https://github.com/citation-style-language/utilities/tree/master/generate_dependent_styles/data/asm --&gt;</span>
</pre></div>
</div>
<p>元素<code class="docutils literal notranslate"><span class="pre">info</span></code>里包含了大多数<code class="docutils literal notranslate"><span class="pre">style</span></code>的元数据，比如：</p>
<p><code class="docutils literal notranslate"><span class="pre">style</span></code>的题目（也是期刊的题目）：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;title&gt;</span>Applied and Environmental Microbiology<span class="nt">&lt;/title&gt;</span>
</pre></div>
</div>
<p>样式的ID，是文献管理软件用来区分不同<code class="docutils literal notranslate"><span class="pre">style</span></code>的标志：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;id&gt;</span>http://www.zotero.org/styles/applied-and-environmental-microbiology<span class="nt">&lt;/id&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">style</span></code>自己的链接。该链接指向了网上的副本。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/applied-and-environmental-microbiology&quot;</span> <span class="na">rel=</span><span class="s">&quot;self&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>从属格式需要指定它的父格式，父格式为独立格式。这里的父格式为 <code class="docutils literal notranslate"><span class="pre">American</span> <span class="pre">Society</span> <span class="pre">for</span> <span class="pre">Microbiology</span></code></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/american-society-for-microbiology&quot;</span> <span class="na">rel=</span><span class="s">&quot;independent-parent&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>为了更好的维护格式，因此需要指定格式的文档链接。这里文档的链接转到了期刊的主页。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://aem.asm.org/&quot;</span> <span class="na">rel=</span><span class="s">&quot;documentation&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>为了便于分类，还可以在<code class="docutils literal notranslate"><span class="pre">category</span></code>元素中设置它的属性。这里分别设置了引用格式为<code class="docutils literal notranslate"><span class="pre">numeric</span></code>，领域为<code class="docutils literal notranslate"><span class="pre">biology</span></code>。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;category</span> <span class="na">citation-format=</span><span class="s">&quot;numeric&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;category</span> <span class="na">field=</span><span class="s">&quot;biology&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>当期刊创建格式的时候，可以在<code class="docutils literal notranslate"><span class="pre">issn</span></code>元素和<code class="docutils literal notranslate"><span class="pre">eissn</span></code>元素中保存其打印标准国际连续出版物号<code class="docutils literal notranslate"><span class="pre">(ISSN)</span></code>和其电子版本<code class="docutils literal notranslate"><span class="pre">(ESSIN)</span></code>。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;issn&gt;</span>0099-2240<span class="nt">&lt;/issn&gt;</span>
<span class="nt">&lt;eissn&gt;</span>1098-5336<span class="nt">&lt;/eissn&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">updated</span></code>元素保存了最后一次更新的时间戳：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;updated&gt;</span>2014-04-30T03:45:36+00:00<span class="nt">&lt;/updated&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">rights</span></code>元素中保存了该CSL格式的证书：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;rights</span> <span class="na">license=</span><span class="s">&quot;http://creativecommons.org/licenses/by-sa/3.0/&quot;</span><span class="nt">&gt;</span>This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License<span class="nt">&lt;/rights&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3>独立格式解析<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>下面是一个独立格式的实例，实例中定义了引用格式，所以要比从属格式要大一些。这里的示例只是一个简化的例子，实际的格式比这个还要大很多。但这个简化的例子仍然是完整有效的。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;style</span> <span class="na">xmlns=</span><span class="s">&quot;http://purl.org/net/xbiblio/csl&quot;</span> <span class="na">class=</span><span class="s">&quot;in-text&quot;</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;info&gt;</span>
    <span class="nt">&lt;title&gt;</span>Example Style<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;id&gt;</span>http://www.zotero.org/styles/example<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/example&quot;</span> <span class="na">rel=</span><span class="s">&quot;self&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/apa&quot;</span> <span class="na">rel=</span><span class="s">&quot;template&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.example.com/style-guide/&quot;</span> <span class="na">rel=</span><span class="s">&quot;documentation&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;author&gt;</span>
      <span class="nt">&lt;name&gt;</span>John Doe<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;email&gt;</span>JohnDoe@example.com<span class="nt">&lt;/email&gt;</span>
    <span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;contributor&gt;</span>
      <span class="nt">&lt;name&gt;</span>Jane Doe<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/contributor&gt;</span>
    <span class="nt">&lt;contributor&gt;</span>
      <span class="nt">&lt;name&gt;</span>Bill Johnson<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/contributor&gt;</span>
    <span class="nt">&lt;category</span> <span class="na">citation-format=</span><span class="s">&quot;author-date&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;category</span> <span class="na">field=</span><span class="s">&quot;science&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;updated&gt;</span>2014-10-15T18:17:09+00:00<span class="nt">&lt;/updated&gt;</span>
    <span class="nt">&lt;rights</span> <span class="na">license=</span><span class="s">&quot;http://creativecommons.org/licenses/by-sa/3.0/&quot;</span><span class="nt">&gt;</span>This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License<span class="nt">&lt;/rights&gt;</span>
  <span class="nt">&lt;/info&gt;</span>
  <span class="nt">&lt;locale</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;terms&gt;</span>
      <span class="nt">&lt;term</span> <span class="na">name=</span><span class="s">&quot;no date&quot;</span><span class="nt">&gt;</span>without date<span class="nt">&lt;/term&gt;</span>
    <span class="nt">&lt;/terms&gt;</span>
  <span class="nt">&lt;/locale&gt;</span>
  <span class="nt">&lt;macro</span> <span class="na">name=</span><span class="s">&quot;author&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;names</span> <span class="na">variable=</span><span class="s">&quot;author&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;name</span> <span class="na">initialize-with=</span><span class="s">&quot;.&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/names&gt;</span>
  <span class="nt">&lt;/macro&gt;</span>
  <span class="nt">&lt;macro</span> <span class="na">name=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;choose&gt;</span>
      <span class="nt">&lt;if</span> <span class="na">variable=</span><span class="s">&quot;issued&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;date</span> <span class="na">variable=</span><span class="s">&quot;issued&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;date-part</span> <span class="na">name=</span><span class="s">&quot;year&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/date&gt;</span>
      <span class="nt">&lt;/if&gt;</span>
      <span class="nt">&lt;else&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">term=</span><span class="s">&quot;no date&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/else&gt;</span>
    <span class="nt">&lt;/choose&gt;</span>
  <span class="nt">&lt;/macro&gt;</span>
  <span class="nt">&lt;citation</span> <span class="na">et-al-min=</span><span class="s">&quot;3&quot;</span> <span class="na">et-al-use-first=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;sort&gt;</span>
      <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/sort&gt;</span>
    <span class="nt">&lt;layout</span> <span class="na">prefix=</span><span class="s">&quot;(&quot;</span> <span class="na">suffix=</span><span class="s">&quot;)&quot;</span> <span class="na">delimiter=</span><span class="s">&quot;; &quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;group</span> <span class="na">delimiter=</span><span class="s">&quot;, &quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/group&gt;</span>
    <span class="nt">&lt;/layout&gt;</span>
  <span class="nt">&lt;/citation&gt;</span>
  <span class="nt">&lt;bibliography&gt;</span>
    <span class="nt">&lt;sort&gt;</span>
      <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;key</span> <span class="na">variable=</span><span class="s">&quot;title&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/sort&gt;</span>
    <span class="nt">&lt;layout</span> <span class="na">suffix=</span><span class="s">&quot;.&quot;</span> <span class="na">delimiter=</span><span class="s">&quot;, &quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;group</span> <span class="na">delimiter=</span><span class="s">&quot;. &quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;title&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;container-title&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/group&gt;</span>
      <span class="nt">&lt;group&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;volume&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;issue&quot;</span> <span class="na">prefix=</span><span class="s">&quot;(&quot;</span> <span class="na">suffix=</span><span class="s">&quot;)&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/group&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;page&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/layout&gt;</span>
  <span class="nt">&lt;/bibliography&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>
</div>
<div class="section" id="id13">
<h4>结构<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>首先看一下根元素<code class="docutils literal notranslate"><span class="pre">style</span></code>的子元素。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;style&gt;</span>
  <span class="nt">&lt;info/&gt;</span>
  <span class="nt">&lt;locale/&gt;</span>
  <span class="nt">&lt;macro/&gt;</span>
  <span class="nt">&lt;macro/&gt;</span>
  <span class="nt">&lt;citation/&gt;</span>
  <span class="nt">&lt;bibliography/&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>
</div>
<p>相比于从属格式只有<code class="docutils literal notranslate"><span class="pre">info</span></code>一个子元素，独立格式的根元素有除了<code class="docutils literal notranslate"><span class="pre">info·</span></code>以外，还有<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">、</span> <span class="pre">macro</span> <span class="pre">、citation、bibliography</span></code>四个子元素。</p>
<p>这些子元素的作用分别是：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code> 该元素在独立格式中的作用和从属格式中相同，都是用来保存基本的格式元数据。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">locale</span></code> 该元素可以用来从<code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">file</span></code>中重写 <code class="docutils literal notranslate"><span class="pre">locale</span> <span class="pre">data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">macro</span></code> 用来存储 CSL 代码，这些代码可能应用在 <code class="docutils literal notranslate"><span class="pre">citation</span> <span class="pre">、bibliography</span> </code>或者其他的 <code class="docutils literal notranslate"><span class="pre">macro</span></code> 元素中。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">citation</span></code> 定义文中引用的格式。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bibliography</span></code>  定义参考文献目录的格式。</p></li>
</ul>
<p>以下从<code class="docutils literal notranslate"><span class="pre">style</span></code>根元素开始分析。</p>
</div>
<div class="section" id="style">
<h4>根元素/style元素<a class="headerlink" href="#style" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;style</span> <span class="na">xmlns=</span><span class="s">&quot;http://purl.org/net/xbiblio/csl&quot;</span> <span class="na">class=</span><span class="s">&quot;in-text&quot;</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/style&gt;</span>
</pre></div>
</div>
<p>在从属格式中我们已经了解了<code class="docutils literal notranslate"><span class="pre">xmlns</span></code>和<code class="docutils literal notranslate"><span class="pre">version</span></code>属性，<code class="docutils literal notranslate"><span class="pre">class</span></code>是新的属性，用来告诉<code class="docutils literal notranslate"><span class="pre">CSL</span> <span class="pre">processor</span></code>(CSL处理器)使用的引用格式是什么。</p>
</div>
<div class="section" id="info">
<h4>info元素<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h4>
<p>独立格式的元数据通常比从属格式的元数据更加全面：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;info&gt;</span>
  <span class="nt">&lt;title&gt;</span>Example Style<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;id&gt;</span>http://www.zotero.org/styles/example<span class="nt">&lt;/id&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/example&quot;</span> <span class="na">rel=</span><span class="s">&quot;self&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.zotero.org/styles/apa&quot;</span> <span class="na">rel=</span><span class="s">&quot;template&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;http://www.example.com/style-guide/&quot;</span> <span class="na">rel=</span><span class="s">&quot;documentation&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;author&gt;</span>
    <span class="nt">&lt;name&gt;</span>John Doe<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;email&gt;</span>JohnDoe@example.com<span class="nt">&lt;/email&gt;</span>
  <span class="nt">&lt;/author&gt;</span>
  <span class="nt">&lt;contributor&gt;</span>
    <span class="nt">&lt;name&gt;</span>Jane Doe<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;/contributor&gt;</span>
  <span class="nt">&lt;contributor&gt;</span>
    <span class="nt">&lt;name&gt;</span>Bill Johnson<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;/contributor&gt;</span>
  <span class="nt">&lt;category</span> <span class="na">citation-format=</span><span class="s">&quot;author-date&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;category</span> <span class="na">field=</span><span class="s">&quot;science&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;updated&gt;</span>2014-10-15T18:17:09+00:00<span class="nt">&lt;/updated&gt;</span>
  <span class="nt">&lt;rights</span> <span class="na">license=</span><span class="s">&quot;http://creativecommons.org/licenses/by-sa/3.0/&quot;</span><span class="nt">&gt;</span>This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License<span class="nt">&lt;/rights&gt;</span>
<span class="nt">&lt;/info&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">title、style</span> <span class="pre">ID、&quot;self&quot;</span> <span class="pre">link、categories、time</span> <span class="pre">stamp、license</span> </code>和从属格式作用都是相同的，但有些许差别。首先，独立格式不依赖父格式，通常是提供一个<code class="docutils literal notranslate"><span class="pre">template(模板)</span></code>链接，表明当前的独立格式是以模板格式链接创建的（这样写的原因是，通常情况下，凭空写一个<code class="docutils literal notranslate"><span class="pre">CSL</span></code>比较困难，但是借助一个模板改写则容易的多）。这里的模板是<code class="docutils literal notranslate"><span class="pre">APA</span> <span class="pre">style</span></code>。此外，<code class="docutils literal notranslate"><span class="pre">info</span></code>还倾向于给定一个或者多个<code class="docutils literal notranslate"><span class="pre">document</span></code>链接，用来指向引文格式的在线描述。</p>
<p>为了致谢<code class="docutils literal notranslate"><span class="pre">CSL</span></code>格式的创建者，他们的名字和联系方式也可以添加到格式文件中。在当前的例子中，有一个作者和两个贡献者。作者通常完成了创建格式的大部分工作，贡献者一般只提供了一些小的改进。</p>
</div>
<div class="section" id="citationmacro">
<h4>citation元素和macro元素<a class="headerlink" href="#citationmacro" title="Permalink to this headline">¶</a></h4>
<p>接下来分析<code class="docutils literal notranslate"><span class="pre">macros</span></code>和<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素。<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素用来描述引用的格式。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;macro</span> <span class="na">name=</span><span class="s">&quot;author&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;names</span> <span class="na">variable=</span><span class="s">&quot;author&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">initialize-with=</span><span class="s">&quot;.&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/names&gt;</span>
<span class="nt">&lt;/macro&gt;</span>
<span class="nt">&lt;macro</span> <span class="na">name=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;choose&gt;</span>
    <span class="nt">&lt;if</span> <span class="na">variable=</span><span class="s">&quot;issued&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;date</span> <span class="na">variable=</span><span class="s">&quot;issued&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;date-part</span> <span class="na">name=</span><span class="s">&quot;year&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/date&gt;</span>
    <span class="nt">&lt;/if&gt;</span>
    <span class="nt">&lt;else&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">term=</span><span class="s">&quot;no date&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/else&gt;</span>
  <span class="nt">&lt;/choose&gt;</span>
<span class="nt">&lt;/macro&gt;</span>
<span class="nt">&lt;citation</span> <span class="na">et-al-min=</span><span class="s">&quot;3&quot;</span> <span class="na">et-al-use-first=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sort&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/sort&gt;</span>
  <span class="nt">&lt;layout</span> <span class="na">prefix=</span><span class="s">&quot;(&quot;</span> <span class="na">suffix=</span><span class="s">&quot;)&quot;</span> <span class="na">delimiter=</span><span class="s">&quot;; &quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;group</span> <span class="na">delimiter=</span><span class="s">&quot;, &quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;/layout&gt;</span>
<span class="nt">&lt;/citation&gt;</span>
</pre></div>
</div>
<p>上面的代码可以生成类似<code class="docutils literal notranslate"><span class="pre">“(A.C.</span> <span class="pre">Smith</span> <span class="pre">et</span> <span class="pre">al.,</span> <span class="pre">2002;</span> <span class="pre">W.</span> <span class="pre">Wallace,</span> <span class="pre">J.</span> <span class="pre">Snow,</span> <span class="pre">1999)”</span></code>这样的格式。为了理解这种引用格式在 CSL 中式如何编码的，要先分析<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素中的<code class="docutils literal notranslate"><span class="pre">layout</span></code>元素。<code class="docutils literal notranslate"><span class="pre">layout</span></code>元素中的<code class="docutils literal notranslate"><span class="pre">prefix</span></code>、<code class="docutils literal notranslate"><span class="pre">suffix</span></code>和<code class="docutils literal notranslate"><span class="pre">delimiter</span></code>属性分别定义了前缀（这里为<code class="docutils literal notranslate"><span class="pre">(</span></code>），后缀（这里为<code class="docutils literal notranslate"><span class="pre">)</span></code>）以及条目分隔符（这里为<code class="docutils literal notranslate"><span class="pre">;</span></code>）。也就是说整个条目要放在圆括号中，条目之间以<code class="docutils literal notranslate"><span class="pre">;</span></code>分隔。每个条目的格式在<code class="docutils literal notranslate"><span class="pre">layout</span></code>元素的内容中定义。其内容中的<code class="docutils literal notranslate"><span class="pre">group</span></code>元素包括了<code class="docutils literal notranslate"><span class="pre">author</span></code>和<code class="docutils literal notranslate"><span class="pre">issue-year</span></code> macros，并且以<code class="docutils literal notranslate"><span class="pre">,</span></code>分隔。</p>
<p><code class="docutils literal notranslate"><span class="pre">macro</span></code>元素是一种辅助元素，在其他元素或者其他<code class="docutils literal notranslate"><span class="pre">macro</span></code>元素中使用。通过其名字也可以看出，其与其他语言中的__宏__类似，这里暂不翻译。每个<code class="docutils literal notranslate"><span class="pre">macro</span></code>都含有<code class="docutils literal notranslate"><span class="pre">name</span></code>属性。</p>
<p>**注：**以下为了方便描述，将对应的<code class="docutils literal notranslate"><span class="pre">macro</span></code>元素直接以<code class="docutils literal notranslate"><span class="pre">name</span></code>指代，例：<code class="docutils literal notranslate"><span class="pre">name</span></code>为<code class="docutils literal notranslate"><span class="pre">author</span></code>的<code class="docutils literal notranslate"><span class="pre">macro</span></code>元素直接称为<code class="docutils literal notranslate"><span class="pre">author</span></code>元素。</p>
<p>``author<code class="docutils literal notranslate"><span class="pre">元素的</span></code>name<code class="docutils literal notranslate"><span class="pre">的属性指定了名称，</span></code>variable<code class="docutils literal notranslate"><span class="pre">属性保存了具体的作者值，</span></code>initialize-with<code class="docutils literal notranslate"><span class="pre">表明作者值为首字母缩写，每个首字母后面为</span></code>.`。</p>
<p><code class="docutils literal notranslate"><span class="pre">issued-year</span></code>元素以分支语句开始，分支语句以<code class="docutils literal notranslate"><span class="pre">choose</span></code>元素定义，其中包含<code class="docutils literal notranslate"><span class="pre">if</span></code>和<code class="docutils literal notranslate"><span class="pre">else</span></code>元素。如果参考文献有日期，则保存在<code class="docutils literal notranslate"><span class="pre">issued</span></code>变量中，如果<code class="docutils literal notranslate"><span class="pre">issued-year</span></code>元素被引用，日期的年份将被印出，否则就印出<code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">date</span></code>。</p>
<p><code class="docutils literal notranslate"><span class="pre">layout</span></code>元素中的<code class="docutils literal notranslate"><span class="pre">group</span></code>元素的<code class="docutils literal notranslate"><span class="pre">author</span></code> 用来印出在<code class="docutils literal notranslate"><span class="pre">author</span></code>元素中存储的值，<code class="docutils literal notranslate"><span class="pre">issued-year</span></code>则用来印出<code class="docutils literal notranslate"><span class="pre">issued-year</span></code>元素储存的值。</p>
<p>为什么不直接把<code class="docutils literal notranslate"><span class="pre">macro</span></code>中的内容放在<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素中呢？使用<code class="docutils literal notranslate"><span class="pre">macro</span></code>有什么好处呢？在上面的例子中，<code class="docutils literal notranslate"><span class="pre">macro</span></code>的使用简化了<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素的结构。此外，上述的两个<code class="docutils literal notranslate"><span class="pre">macro</span></code>总共被调用了4次（两次在 <code class="docutils literal notranslate"><span class="pre">citation</span></code>元素中，两次在<code class="docutils literal notranslate"><span class="pre">bibliography</span></code>元素中），如果不使用<code class="docutils literal notranslate"><span class="pre">macro</span></code>，必须多次重复这些代码。因此<code class="docutils literal notranslate"><span class="pre">macro</span></code>的使用提供了更紧凑的样式。</p>
<p>再看<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素，其中含有两个属性<code class="docutils literal notranslate"><span class="pre">et-al-min</span></code> 和 <code class="docutils literal notranslate"><span class="pre">et-al-use-first</span></code>。这里的值分别为<code class="docutils literal notranslate"><span class="pre">3、1</span></code>，表示作者大于等于<code class="docutils literal notranslate"><span class="pre">3</span></code>个的时候，使用印出第一个作者，后面跟<code class="docutils literal notranslate"><span class="pre">et</span> <span class="pre">al</span></code>术语。</p>
<p><code class="docutils literal notranslate"><span class="pre">citation</span></code>元素中还包括了<code class="docutils literal notranslate"><span class="pre">sort</span></code>元素，其中包括了两个<code class="docutils literal notranslate"><span class="pre">key</span></code>元素，用来表明引用的排列顺序。第一个<code class="docutils literal notranslate"><span class="pre">key</span></code>元素中引用了<code class="docutils literal notranslate"><span class="pre">author</span></code>宏，第二个宏引用了<code class="docutils literal notranslate"><span class="pre">issued-year</span></code>宏，表明，先按作者作者字母排序，然后按文献发表年份排序。</p>
</div>
<div class="section" id="bibliography">
<h4>bibliography元素<a class="headerlink" href="#bibliography" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">citation</span></code>元素定义了引用的格式，<code class="docutils literal notranslate"><span class="pre">bibliography</span></code>定义了参考文献条目的格式。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;macro</span> <span class="na">name=</span><span class="s">&quot;author&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;names</span> <span class="na">variable=</span><span class="s">&quot;author&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">initialize-with=</span><span class="s">&quot;.&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/names&gt;</span>
<span class="nt">&lt;/macro&gt;</span>
<span class="nt">&lt;macro</span> <span class="na">name=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;choose&gt;</span>
    <span class="nt">&lt;if</span> <span class="na">variable=</span><span class="s">&quot;issued&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;date</span> <span class="na">variable=</span><span class="s">&quot;issued&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;date-part</span> <span class="na">name=</span><span class="s">&quot;year&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/date&gt;</span>
    <span class="nt">&lt;/if&gt;</span>
    <span class="nt">&lt;else&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">term=</span><span class="s">&quot;no date&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/else&gt;</span>
  <span class="nt">&lt;/choose&gt;</span>
<span class="nt">&lt;/macro&gt;</span>
...
<span class="nt">&lt;bibliography&gt;</span>
  <span class="nt">&lt;sort&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;key</span> <span class="na">variable=</span><span class="s">&quot;title&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/sort&gt;</span>
  <span class="nt">&lt;layout</span> <span class="na">suffix=</span><span class="s">&quot;.&quot;</span> <span class="na">delimiter=</span><span class="s">&quot;, &quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;group</span> <span class="na">delimiter=</span><span class="s">&quot;. &quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;author&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">macro=</span><span class="s">&quot;issued-year&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;title&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;container-title&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
    <span class="nt">&lt;group&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;volume&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;issue&quot;</span> <span class="na">prefix=</span><span class="s">&quot;(&quot;</span> <span class="na">suffix=</span><span class="s">&quot;)&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">variable=</span><span class="s">&quot;page&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/layout&gt;</span>
<span class="nt">&lt;/bibliography&gt;</span>
</pre></div>
</div>
<p>上述的例子中的<code class="docutils literal notranslate"><span class="pre">bibliography</span></code>实际上只适用于一种类型：期刊文章。它生成的条目的格式是：</p>
<blockquote>
<div><p>A.C. Smith, D. Williams, T. Johnson. 2002. Story of my life. Journal of Biographies, 12(2), 24—27. W. Wallace, J. Snow. 1999. Winter is coming. Journal of Climate Dynamics, 6(9), 97—102.</p>
</div></blockquote>
<p>我们怎么定义这种格式呢？首先，<code class="docutils literal notranslate"><span class="pre">bibliography</span></code>元素的结构和<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素很相似，不同的是，这里的<code class="docutils literal notranslate"><span class="pre">layout</span></code>元素用来定义参考文献条目的格式。除了给出<code class="docutils literal notranslate"><span class="pre">author</span></code>和<code class="docutils literal notranslate"><span class="pre">issued-year</span></code>，参考文献条目还需要给出每个条目的<code class="docutils literal notranslate"><span class="pre">title</span></code>、<code class="docutils literal notranslate"><span class="pre">container-title</span></code>(对期刊文章来说，就是期刊的名称)、<code class="docutils literal notranslate"><span class="pre">volume</span></code>、<code class="docutils literal notranslate"><span class="pre">issue</span></code>和<code class="docutils literal notranslate"><span class="pre">page</span></code>。这里<code class="docutils literal notranslate"><span class="pre">layout</span></code>元素使用属性<code class="docutils literal notranslate"><span class="pre">suffix</span></code>和<code class="docutils literal notranslate"><span class="pre">delimiter</span></code>分别指定了<code class="docutils literal notranslate"><span class="pre">group</span></code>的后缀为<code class="docutils literal notranslate"><span class="pre">.</span></code>，以及<code class="docutils literal notranslate"><span class="pre">group</span></code>之间的分隔符为<code class="docutils literal notranslate"><span class="pre">,</span></code>。</p>
<p>和<code class="docutils literal notranslate"><span class="pre">citation</span></code>元素相同，<code class="docutils literal notranslate"><span class="pre">bibliography</span></code>也包括了一个<code class="docutils literal notranslate"><span class="pre">sort</span></code>元素，用来对参考文献条目进行排序。这里的三个<code class="docutils literal notranslate"><span class="pre">key</span></code>分别为<code class="docutils literal notranslate"><span class="pre">author</span></code>、<code class="docutils literal notranslate"><span class="pre">issued-year</span></code>和<code class="docutils literal notranslate"><span class="pre">title</span></code>。</p>
</div>
<div class="section" id="id14">
<h4>locale 元素<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p>最后介绍的是<code class="docutils literal notranslate"><span class="pre">loacle</span></code>元素。正如上面写道的，<code class="docutils literal notranslate"><span class="pre">CSL</span> <span class="pre">locale</span> <span class="pre">file</span></code>允许<code class="docutils literal notranslate"><span class="pre">CSL</span></code> 样式快速转换为不同的语言。但是，有时需要覆盖默认翻译。</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;locale</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;terms&gt;</span>
    <span class="nt">&lt;term</span> <span class="na">name=</span><span class="s">&quot;no date&quot;</span><span class="nt">&gt;</span>without date<span class="nt">&lt;/term&gt;</span>
  <span class="nt">&lt;/terms&gt;</span>
<span class="nt">&lt;/locale&gt;</span>
</pre></div>
</div>
<p>对 US English 来说，<code class="docutils literal notranslate"><span class="pre">&quot;no</span> <span class="pre">date&quot;</span></code>项的内容就是<code class="docutils literal notranslate"><span class="pre">&quot;no</span> <span class="pre">date&quot;</span></code>。但是在我们的例子中，我们想使用<code class="docutils literal notranslate"><span class="pre">&quot;without</span> <span class="pre">date&quot;</span></code>去替换它。为了重写默认的翻译，我们可以使用类似上面的<code class="docutils literal notranslate"><span class="pre">locale</span></code>元素。对一个没有日期的条目来说，这种重写会导致引用变为像<code class="docutils literal notranslate"><span class="pre">(D.</span> <span class="pre">Williams,</span> <span class="pre">without</span> <span class="pre">date)</span></code>这样的格式。</p>
<p><code class="docutils literal notranslate"><span class="pre">locale</span></code>的<code class="docutils literal notranslate"><span class="pre">xml:lang</span></code>属性被设置为<code class="docutils literal notranslate"><span class="pre">en</span></code>，这告诉CSL 样式当样式被用于英语写作的时候，重写<code class="docutils literal notranslate"><span class="pre">&quot;no</span> <span class="pre">date&quot;</span></code>。如果我们在德语写作的时候使用该<code class="docutils literal notranslate"><span class="pre">CSL</span></code>，该样式将会依据<code class="docutils literal notranslate"><span class="pre">German</span> <span class="pre">locale</span> <span class="pre">file</span> </code>印出德语的翻译(<code class="docutils literal notranslate"><span class="pre">ohne</span> <span class="pre">Datum</span></code>)</p>
</div>
</div>
</div>
<div class="section" id="id15">
<h2>更进一步<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p>这里只给出了一个基本的介绍。有关<code class="docutils literal notranslate"><span class="pre">CSL</span></code>更详细的介绍可以查看<code class="docutils literal notranslate"> <span class="pre">CSL</span></code> 标准文档或者其他参考文档。</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CSL 1.0.1规范.html" class="btn btn-neutral float-right" title="CSL 1.0.1 Specification" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="XML基础.html" class="btn btn-neutral float-left" title="XML基础" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, mao zhou

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>